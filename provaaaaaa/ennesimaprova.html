<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="prova.css">
</head>
<body>
    <header id="emanuele">
        <p>EMANUELE</p>
        <img src="epicode_logo.png" alt="" width="250px">
        <div class="containar_principale">
            <h1 id="titolo">Tell us how it's going</h1>
            <p id="paragrafo">
                From O to 10, how likely are you to recommend EPICODE to a friend or a colleague?
            </p>
        </div>
        <div class="containar_stelle">
            <img class="stella" src="star.svg" alt="stella 1" type="image/svg">
            <img class="stella" src="star.svg" alt="stella 2" type="image/svg">
            <img class="stella" src="star.svg" alt="stella 3" type="image/svg">
            <img class="stella" src="star.svg" alt="stella 4" type="image/svg">
            <img class="stella" src="star.svg" alt="stella 5" type="image/svg">
            <img class="stella" src="star.svg" alt="stella 6" type="image/svg">
            <img class="stella" src="star.svg" alt="stella 7" type="image/svg">
            <img class="stella" src="star.svg" alt="stella 8" type="image/svg">
            <img class="stella" src="star.svg" alt="stella 9" type="image/svg">
            <img class="stella" src="star.svg" alt="stella 10" type="image/svg">
        </div>
        <div>
            <p class="paragrafo_footer">
                Leave us an open feedback about your experience so far
            </p>
        </div>
        <div class="containar_input">
            <input class="input_footer" type="text" placeholder="Write vour comment here">
        </div>
        <button id="btn-to-welcome">Procedi</button>
    </header>


    <main id="matteo">
        <img src="epicode_logo.png" alt="" width="250px">
        <p>Matte</p>
        <h1 id="welcome-heading">Welcome to <p>your exam</p></h1>
        <h2>Instructions</h2>
        <p class="text">We don't expect most engineers to know the answers to all of these <br> questions,so don't worry if you're unsure of a few of them.</p>
        <ul>
            <li class="text">Each question is <span>timed</span> and can only be <span>answered once</span></li>
            <li class="text">Changing broeser tab or opening other windows will <span> the questions</span></li>
            <li class="text">This exam will take approx. <span>0-5 minutes</span></li>
        </ul>
    

        
        <div id="welcome-footer"> 
            <label for="checkbox">
                <input type="checkbox" id="checkbox" required>
                <span>I promise to answer myself without help from anyone</span>
            </label>
            <button id="btn-to-test">Procedi</button>
    </main>


    <aside id="andrea">
        <img src="epicode_logo.png" alt="" width="250px">

        <p id="question">Andrea</p>
        <div>
            <button class="answer-buttons">Risposta1</button>
            <button class="answer-buttons">Risposta2</button>
        </div>
        <div>
            <button class="answer-buttons">Risposta3</button>
            <button class="answer-buttons">Risposta4</button>
        </div>
        <button id="il-bottone-dei-bottoni">NEXT QUESTION</button>
        <p id="counter">DOMANDA 1</p>
    </aside>

    <footer id="marianna">
        <img src="epicode_logo.png" alt="" width="250px">

        <p>Mari</p>
        <div id="titolone">
            <h1 id="title">Results</h1>
            <p id="underTitle">The summary of your answers:</p>
        </div>

        <div id="middle">

            <div id="wrapper">

                <div id="correct">
                    <h2 id="correctTitle"> Correct </h2>
                    <h3 id="correctPercentage" class="value-container"><input type="number" min="0"
                            max="100" placeholder="%"> </h3>
                    <p id="correctQuestions"> 0 <span> questions </span></p>
                </div>

                <div id="container">
                    <svg class="progress-ring" width="650" height="650">
                        <circle class="progress-ring__circle" r="250" cx="330" cy="330" />
                    </svg>
                    <div id="message">
                        <h3 id="topMessage"></h3>
                        <h3 id="middleMessage"></h3>
                        <p id="underMessage"></p>
                    </div>
                </div>

                <div id="wrong">
                    <h2 id="wrongTitle"> Wrong </h2>
                    <h3 id="wrongPercentage"> 00.0 <span>%</span> </h3>
                    <p id="wrongQuestions"> 0 <span> questions </span></p>
                </div>

            </div>
            <div id="checkAnswers">
                <button> Check answers </button>
            </div>
    </footer>




    <script>
        let questions = [{
        question: "Qual'è la pizza preferita di Michele?",
        rightAnswer: "Diavola",
        wrongAnswers:["Margherita","Hawaiana", "Capricciosa"]
    },
    {
        question: "What does CPU stand for?",
        rightAnswer: "Central Processing Unit",
        wrongAnswers:["Central Process Unit","Computer Personal Unit","Central Processor Unit"]
    },
    {
        question: "In web design, what does CSS stand for?",
        rightAnswer: "Cascading Style Sheet",
        wrongAnswers:[ "Counter Strike: Source",
        "Corrective Style Sheet",
        "Computer Style Sheet"]
    },
    {
        question: "On Twitter, what is the character limit for a Tweet?",
        rightAnswer: "140",
        wrongAnswers:["120", "160", "100"]
    },
    {
        question: "Which programming language shares its name with an island in Indonesia?",
        rightAnswer: "Java",
        wrongAnswers:["Python", "C", "Jakarta"]
    },
    {
        question: "What is the code name for the mobile operating system Android 7.0?",
        rightAnswer: "Nougat",
        wrongAnswers:["Ice Cream Sandwich",
        "Jelly Bean",
        "Marshmallow"]
    }]
        
    // Nascondi tutti gli elementi tranne l'header
    document.getElementById("matteo").style.display = "none"
    document.getElementById("andrea").style.display = "none"
    document.getElementById("marianna").style.display = "none"

    // Aggiungi un evento al pulsante "Procedi" dell'header per mostrare solo il main con id "matteo"
    document.getElementById("btn-to-welcome").addEventListener("click", function() {
        // Nascondi tutti gli elementi tranne il main con id "matteo"
        document.getElementById("emanuele").style.display = "none"
        document.getElementById("andrea").style.display = "none"
        document.getElementById("marianna").style.display = "none"
        document.getElementById("matteo").style.display = "block"
    });

    document.getElementById("btn-to-test").addEventListener("click",function(){
        document.getElementById("emanuele").style.display ="none"
        document.getElementById("andrea").style.display = "block"
        document.getElementById("marianna").style.display = "none"
        document.getElementById("matteo").style.display = "none"
    })


   // Seleziona gli elementi HTML che devono essere aggiornati
    let questionElement = document.getElementById("question")
    let answerButtons = document.querySelectorAll(".answer-buttons")
    let counterElement = document.getElementById("counter")
    let correctAnswersElement = document.getElementById("correctQuestions") //lascia perdere
    let wrongAnswersElement = document.getElementById("wrongQuestions") //lascia perdere


    let counter = 0
    let correctAnswer = 0 //lascia perdere
    let wrongAnswers = 0//lascia perdere

    // Aggiungi un evento al pulsante "Il bottone dei bottoni" per generare una nuova domanda
    document.getElementById("il-bottone-dei-bottoni").addEventListener("click", function() {
        counter++
        counterElement.innerHTML = "Domanda :" + counter


        if (counter === 6){ //si va da marianna
            document.getElementById("matteo").style.display = "none"
            document.getElementById("andrea").style.display = "none"
            document.getElementById("emanuele").style.display = "none"

            document.getElementById("marianna").style.display = "block"

            correctAnswersElement.innerText = correctAnswer //serve per far displayare le risposte corrette da marianna
            wrongAnswersElement.innerText = wrongAnswers //uguale che a sopra

            
        }else{ //senno si randomizza domanda 
            // Scegli una domanda casuale dall'array
            let randomQuestion = questions[Math.floor(Math.random() * questions.length)]
    
            // Aggiorna il testo della domanda
            questionElement.innerText = randomQuestion.question
    






            // Crea un array con tutte le risposte (giusta e sbagliate ps: si può fare solo in questo modo ) 
            let answers = [...randomQuestion.wrongAnswers, randomQuestion.rightAnswer]
            //console.log(answers)


    
    
            // QUESTO è per randomizzare le risposte trovato su internet quello che abbaimo fatto l'altro giorno non fuzniona piu e in più IN TEORIA dovrebbe salvare le risposte giuste con dataset ma non funge 
            answerButtons.forEach((button, index) => {
                button.innerText = answers[index]
                button.dataset.correct = (answers[index] === randomQuestion.rightAnswer)
              

                //QUESTO NON FUNZIONA

                button.addEventListener("click", function() {
                    if (button.dataset.correct === "true") { // ???????????????????????????????????
                        // Incrementa il contatore per le risposte corrette
                        correctAnswers++;
                    }
                    else {
                        // Incrementa il contatore per le risposte sbagliate
                        wrongAnswers++;
                    }
                });

                
            });

        }
        
    });
    </script>
</body>
</html>